(this["webpackJsonpquicksell-counter"]=this["webpackJsonpquicksell-counter"]||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},30:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(8),u=n.n(r),i=(n(27),n(28),n(5)),s=n.n(i),l=n(7),o=(n(30),n(6)),b=n.n(o),j=n(4);function d(e,t){return{type:e,payload:t}}var f="handleInitialValue",v="handleMaxValue",x="handleSubmit",O="handleIncrement",m="handleDecrement",h="handleChange",p="handleSaving",g="https://interview-8e4c5-default-rtdb.firebaseio.com/front-end.json",k="https://interview-8e4c5-default-rtdb.firebaseio.com/front-end/counter.json",y=n(1);var S,V=function(){var e=Object(j.c)((function(e){return e})),t=e.initialValue,n=e.maxValue,a=Object(j.b)();function c(){return(c=Object(l.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,b.a.put(g,{counter:t});case 3:a(d(x,!0));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h1",{className:"title",children:"Submit the Form to open Counter"}),Object(y.jsxs)("form",{className:"form",onSubmit:function(e){return c.apply(this,arguments)},children:[Object(y.jsxs)("div",{className:"form_control",children:[Object(y.jsx)("label",{children:"Initial Value"}),Object(y.jsx)("input",{type:"number",onChange:function(e){a(d(f,+e.target.value))},value:t})]}),Object(y.jsxs)("div",{className:"form_control",children:[Object(y.jsx)("label",{children:"Max Value"}),Object(y.jsx)("input",{type:"number",onChange:function(e){a(d(v,+e.target.value))},value:n})]}),Object(y.jsx)("div",{className:"form_control",children:Object(y.jsx)("button",{children:"Submit"})})]})]})};n(54);var N=function(e){var t=Object(j.c)((function(e){return e})),n=t.value,c=t.maxValue,r=t.isSaving,u=Object(j.b)();function i(e){u(d(h,e))}function o(e){u(d(p,e))}return Object(a.useEffect)(Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n){e.next=14;break}return e.next=3,b.a.get(k).catch((function(e){return console.log(e)}));case 3:if(""!==(t=e.sent).data){e.next=11;break}return e.next=7,b.a.put(g,{counter:1}).catch((function(e){return console.log(e)}));case 7:i(e.sent.data.counter),e.next=12;break;case 11:i(+t.data);case 12:e.next=16;break;case 14:clearTimeout(S),S=setTimeout(Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n>c)){e.next=4;break}i(c),e.next=17;break;case 4:if(!(n<0)){e.next=8;break}i(0),e.next=17;break;case 8:if(""===n){e.next=17;break}return e.next=11,b.a.get(k);case 11:if(t=e.sent,n===t.data){e.next=17;break}return o(!0),e.next=16,b.a.put(g,{counter:n});case 16:o(!1);case 17:case"end":return e.stop()}}),e)}))),600);case 16:case"end":return e.stop()}}),e)}))),[n]),Object(y.jsxs)("div",{className:"counter_container",children:[""===n||r?Object(y.jsxs)("div",{className:"saving",children:[Object(y.jsx)("div",{className:"loading"}),Object(y.jsx)("span",{children:"Saving counter value"})]}):"",Object(y.jsxs)("div",{className:"counter",children:[Object(y.jsx)("button",{className:"decrement",onClick:function(){n>0&&u(d(m,null))},children:"-"}),Object(y.jsx)("input",{className:"count",type:"number",onChange:function(e){return i(+e.target.value)},value:n}),Object(y.jsx)("button",{className:"increment",onClick:function(){n<c&&u(d(O,null))},children:"+"})]})]})};n(55);var w=function(){var e=Object(j.c)((function(e){return e.value}));return Object(y.jsxs)("div",{className:"counter_value",children:["Counter value: ",e]})};var C=function(){var e=Object(j.c)((function(e){return e.isSubmited}));return Object(y.jsx)("div",{className:"App",children:e?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(N,{}),Object(y.jsx)(w,{})]}):Object(y.jsx)(V,{})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,58)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,u=t.getTTFB;n(e),a(e),c(e),r(e),u(e)}))},I=n(9),T=n(2),_={initialValue:"",maxValue:"",isSubmited:!1,value:"",isSaving:!1};var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case f:return Object(T.a)(Object(T.a)({},e),{},{initialValue:t.payload});case v:return Object(T.a)(Object(T.a)({},e),{},{maxValue:t.payload});case x:return Object(T.a)(Object(T.a)({},e),{},{isSubmited:t.payload,maxValue:e.maxValue?e.maxValue<1?1:e.maxValue:1e3});case O:return Object(T.a)(Object(T.a)({},e),{},{value:e.value+1});case m:return Object(T.a)(Object(T.a)({},e),{},{value:e.value-1});case h:return Object(T.a)(Object(T.a)({},e),{},{value:t.payload});case p:return Object(T.a)(Object(T.a)({},e),{},{isSaving:t.payload});default:return e}},M=n(21),q=n(22),B=n.n(q),E=Object(I.createStore)(D,Object(M.composeWithDevTools)(Object(I.applyMiddleware)(B.a)));u.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(j.a,{store:E,children:Object(y.jsx)(C,{})})}),document.getElementById("root")),F()}},[[57,1,2]]]);
//# sourceMappingURL=main.309cf678.chunk.js.map